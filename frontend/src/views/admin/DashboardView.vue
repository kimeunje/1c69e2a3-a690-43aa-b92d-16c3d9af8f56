<script setup lang="ts">
import { useAuthStore } from '@/stores/auth'

const authStore = useAuthStore()
</script>

<template>
  <div class="p-6 space-y-6">
    <!-- í™˜ì˜ ë©”ì‹œì§€ -->
    <div class="bg-white rounded-xl border border-gray-200 p-6">
      <h2 class="text-xl font-bold text-gray-900 mb-2">
        ì•ˆë…•í•˜ì„¸ìš”, {{ authStore.user?.name }}ë‹˜ ğŸ‘‹
      </h2>
      <p class="text-gray-500">SecuHub ë³´ì•ˆ ìš´ì˜ í†µí•© ê´€ë¦¬ í”Œë«í¼ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.</p>
    </div>

    <!-- í†µê³„ ì¹´ë“œ -->
    <div class="grid grid-cols-2 gap-6">
      <!-- ì¦ë¹™ ìˆ˜ì§‘ í˜„í™© -->
      <div class="bg-white rounded-xl border border-gray-200 p-5">
        <div class="flex items-center justify-between mb-4">
          <h3 class="font-bold text-gray-900">ì¦ë¹™ ìˆ˜ì§‘ í˜„í™©</h3>
          <span class="text-xs text-gray-500">ISMS-P ê¸°ì¤€</span>
        </div>
        <div class="grid grid-cols-4 gap-3 mb-4">
          <div v-for="stat in [
            { label: 'ì „ì²´', value: 247, color: 'text-gray-900' },
            { label: 'ì™„ë£Œ', value: 198, color: 'text-green-600' },
            { label: 'ë¯¸ìˆ˜ì§‘', value: 42, color: 'text-amber-600' },
            { label: 'ì‹¤íŒ¨', value: 7, color: 'text-red-600' },
          ]" :key="stat.label" class="text-center">
            <p :class="['text-2xl font-bold', stat.color]">{{ stat.value }}</p>
            <p class="text-xs text-gray-500">{{ stat.label }}</p>
          </div>
        </div>
        <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
          <div class="h-full bg-green-500 rounded-full" style="width: 80%"></div>
        </div>
      </div>

      <!-- ì·¨ì•½ì  ì¡°ì¹˜ í˜„í™© -->
      <div class="bg-white rounded-xl border border-gray-200 p-5">
        <div class="flex items-center justify-between mb-4">
          <h3 class="font-bold text-gray-900">ì·¨ì•½ì  ì¡°ì¹˜ í˜„í™©</h3>
          <span class="text-xs text-gray-500">2025ë…„ 1ë¶„ê¸°</span>
        </div>
        <div class="grid grid-cols-4 gap-3 mb-4">
          <div v-for="stat in [
            { label: 'ì „ì²´', value: 156, color: 'text-gray-900' },
            { label: 'ì™„ë£Œ', value: 98, color: 'text-green-600' },
            { label: 'ì§„í–‰ì¤‘', value: 34, color: 'text-blue-600' },
            { label: 'ë¯¸ì¡°ì¹˜', value: 24, color: 'text-red-600' },
          ]" :key="stat.label" class="text-center">
            <p :class="['text-2xl font-bold', stat.color]">{{ stat.value }}</p>
            <p class="text-xs text-gray-500">{{ stat.label }}</p>
          </div>
        </div>
        <div class="h-2 bg-gray-100 rounded-full overflow-hidden">
          <div class="h-full bg-green-500 rounded-full" style="width: 63%"></div>
        </div>
      </div>
    </div>

    <!-- ê¸´ê¸‰ ì·¨ì•½ì  + ì˜ˆì •ëœ ìˆ˜ì§‘ -->
    <div class="grid grid-cols-2 gap-6">
      <div class="bg-white rounded-xl border border-gray-200">
        <div class="p-4 border-b border-gray-200 flex items-center gap-2">
          <i class="pi pi-exclamation-triangle text-red-500"></i>
          <h3 class="font-bold text-gray-900">ê¸´ê¸‰ ì¡°ì¹˜ í•„ìš”</h3>
        </div>
        <div class="divide-y divide-gray-100">
          <div
            v-for="item in [
              { id: 'VUL-0089', name: 'SQL Injection', due: 'D-1', assignee: 'ê¹€ê°œë°œ' },
              { id: 'VUL-0092', name: 'XSS ì·¨ì•½ì ', due: 'D-3', assignee: 'ì´ë³´ì•ˆ' },
              { id: 'VUL-0095', name: 'ì¸ì¦ ìš°íšŒ', due: 'D-5', assignee: 'ë°•ë°±ì—”ë“œ' },
            ]"
            :key="item.id"
            class="p-3 hover:bg-gray-50 cursor-pointer"
          >
            <div class="flex items-center justify-between">
              <span class="font-mono text-xs text-red-600">{{ item.id }}</span>
              <span class="px-1.5 py-0.5 bg-red-100 text-red-700 text-xs font-bold rounded">{{ item.due }}</span>
            </div>
            <p class="text-sm text-gray-900 mt-1">{{ item.name }}</p>
            <p class="text-xs text-gray-500">ë‹´ë‹¹: {{ item.assignee }}</p>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-xl border border-gray-200">
        <div class="p-4 border-b border-gray-200 flex items-center gap-2">
          <i class="pi pi-calendar text-blue-500"></i>
          <h3 class="font-bold text-gray-900">ì˜ˆì •ëœ ìˆ˜ì§‘</h3>
        </div>
        <div class="divide-y divide-gray-100">
          <div
            v-for="item in [
              { name: 'ì ‘ê·¼ê¶Œí•œ í˜„í™© ì¶”ì¶œ', time: 'ì˜¤ëŠ˜ 18:00' },
              { name: 'ë°±ì‹  ì—…ë°ì´íŠ¸ í˜„í™©', time: 'ë‚´ì¼ 09:00' },
              { name: 'ë°©í™”ë²½ ì •ì±… ìŠ¤í¬ë¦°ìƒ·', time: 'ë‚´ì¼ 14:00' },
            ]"
            :key="item.name"
            class="p-3 hover:bg-gray-50 cursor-pointer"
          >
            <p class="text-sm text-gray-900">{{ item.name }}</p>
            <p class="text-xs text-gray-500 mt-1">{{ item.time }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
